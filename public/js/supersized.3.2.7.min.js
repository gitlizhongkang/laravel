(function(A){A(document).ready(function(){A("body").append('<div id="supersized-loader"></div><ul id="supersized"></ul>')});A.supersized=function(C){var D="#supersized",B=this;B.$el=A(D);B.el=D;vars=A.supersized.vars;B.$el.data("supersized",B);api=B.$el.data("supersized");B.init=function(){A.supersized.vars=A.extend(A.supersized.vars,A.supersized.themeVars);A.supersized.vars.options=A.extend({},A.supersized.defaultOptions,A.supersized.themeOptions,C);B.options=A.supersized.vars.options;B._build()};B._build=function(){var E=0,G="",I="",F,J="",H;while(E<=B.options.slides.length-1){switch(B.options.slide_links){case"num":F=E;break;case"name":F=B.options.slides[E].title;break;case"blank":F="";break}G=G+'<li class="slide-'+E+'"></li>';if(E==B.options.start_slide-1){if(B.options.slide_links){I=I+'<li class="slide-link-'+E+' current-slide"><a>'+F+"</a></li>"}if(B.options.thumb_links){B.options.slides[E].thumb?H=B.options.slides[E].thumb:H=B.options.slides[E].image;J=J+'<li class="thumb'+E+' current-thumb"><img src="'+H+'"/></li>'}}else{if(B.options.slide_links){I=I+'<li class="slide-link-'+E+'" ><a>'+F+"</a></li>"}if(B.options.thumb_links){B.options.slides[E].thumb?H=B.options.slides[E].thumb:H=B.options.slides[E].image;J=J+'<li class="thumb'+E+'"><img src="'+H+'"/></li>'}}E++}if(B.options.slide_links){A(vars.slide_list).html(I)}if(B.options.thumb_links&&vars.thumb_tray.length){A(vars.thumb_tray).append('<ul id="'+vars.thumb_list.replace("#","")+'">'+J+"</ul>")}A(B.el).append(G);if(B.options.thumbnail_navigation){vars.current_slide-1<0?prevThumb=B.options.slides.length-1:prevThumb=vars.current_slide-1;A(vars.prev_thumb).show().html(A("<img/>").attr("src",B.options.slides[prevThumb].image));vars.current_slide==B.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;A(vars.next_thumb).show().html(A("<img/>").attr("src",B.options.slides[nextThumb].image))}B._start()};B._start=function(){if(B.options.start_slide){vars.current_slide=B.options.start_slide-1}else{vars.current_slide=Math.floor(Math.random()*B.options.slides.length)}var K=B.options.new_window?' target="_blank"':"";if(B.options.performance==3){B.$el.addClass("speed")}else{if((B.options.performance==1)||(B.options.performance==2)){B.$el.addClass("quality")}}if(B.options.random){arr=B.options.slides;for(var I,M,H=arr.length;H;I=parseInt(Math.random()*H),M=arr[--H],arr[H]=arr[I],arr[I]=M){}B.options.slides=arr}if(B.options.slides.length>1){if(B.options.slides.length>2){vars.current_slide-1<0?loadPrev=B.options.slides.length-1:loadPrev=vars.current_slide-1;var O=(B.options.slides[loadPrev].url)?"href='"+B.options.slides[loadPrev].url+"'":"";var G=A('<img src="'+B.options.slides[loadPrev].image+'"/>');var J=B.el+" li:eq("+loadPrev+")";G.appendTo(J).wrap("<a "+O+K+"></a>").parent().parent().addClass("image-loading prevslide");G.load(function(){A(this).data("origWidth",A(this).width()).data("origHeight",A(this).height());B.resizeNow()})}}else{B.options.slideshow=0}O=(api.getField("url"))?"href='"+api.getField("url")+"'":"";var L=A('<img src="'+api.getField("image")+'"/>');var N=B.el+" li:eq("+vars.current_slide+")";L.appendTo(N).wrap("<a "+O+K+"></a>").parent().parent().addClass("image-loading activeslide");L.load(function(){B._origDim(A(this));B.resizeNow();B.launch();if(typeof theme!="undefined"&&typeof theme._init=="function"){theme._init()}});if(B.options.slides.length>1){vars.current_slide==B.options.slides.length-1?loadNext=0:loadNext=vars.current_slide+1;O=(B.options.slides[loadNext].url)?"href='"+B.options.slides[loadNext].url+"'":"";var E=A('<img src="'+B.options.slides[loadNext].image+'"/>');var F=B.el+" li:eq("+loadNext+")";E.appendTo(F).wrap("<a "+O+K+"></a>").parent().parent().addClass("image-loading");E.load(function(){A(this).data("origWidth",A(this).width()).data("origHeight",A(this).height());B.resizeNow()})}B.$el.css("visibility","hidden");A(".load-item").hide()};B.launch=function(){B.$el.css("visibility","visible");A("#supersized-loader").remove();if(typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"){theme.beforeAnimation("next")}A(".load-item").show();if(B.options.keyboard_nav){A(document.documentElement).keyup(function(E){if(vars.in_animation){return false}if((E.keyCode==37)||(E.keyCode==40)){clearInterval(vars.slideshow_interval);B.prevSlide()}else{if((E.keyCode==39)||(E.keyCode==38)){clearInterval(vars.slideshow_interval);B.nextSlide()}else{if(E.keyCode==32&&!vars.hover_pause){clearInterval(vars.slideshow_interval);B.playToggle()}}}})}if(B.options.slideshow&&B.options.pause_hover){A(B.el).hover(function(){if(vars.in_animation){return false}vars.hover_pause=true;if(!vars.is_paused){vars.hover_pause="resume";B.playToggle()}},function(){if(vars.hover_pause=="resume"){B.playToggle();vars.hover_pause=false}})}if(B.options.slide_links){A(vars.slide_list+"> li").click(function(){index=A(vars.slide_list+"> li").index(this);targetSlide=index+1;B.goTo(targetSlide);return false})}if(B.options.thumb_links){A(vars.thumb_list+"> li").click(function(){index=A(vars.thumb_list+"> li").index(this);targetSlide=index+1;api.goTo(targetSlide);return false})}if(B.options.slideshow&&B.options.slides.length>1){if(B.options.autoplay&&B.options.slides.length>1){vars.slideshow_interval=setInterval(B.nextSlide,B.options.slide_interval)}else{vars.is_paused=true}A(".load-item img").bind("contextmenu mousedown",function(){return false})}A(window).resize(function(){B.resizeNow()})};B.resizeNow=function(){return B.$el.each(function(){A("img",B.el).each(function(){thisSlide=A(this);var J=(thisSlide.data("origHeight")/thisSlide.data("origWidth")).toFixed(2);var G=B.$el.width(),E=B.$el.height(),F;if(B.options.fit_always){if((E/G)>J){H()}else{I()}}else{if((E<=B.options.min_height)&&(G<=B.options.min_width)){if((E/G)>J){B.options.fit_landscape&&J<1?H(true):I(true)}else{B.options.fit_portrait&&J>=1?I(true):H(true)}}else{if(G<=B.options.min_width){if((E/G)>J){B.options.fit_landscape&&J<1?H(true):I()}else{B.options.fit_portrait&&J>=1?I():H(true)}}else{if(E<=B.options.min_height){if((E/G)>J){B.options.fit_landscape&&J<1?H():I(true)}else{B.options.fit_portrait&&J>=1?I(true):H()}}else{if((E/G)>J){B.options.fit_landscape&&J<1?H():I()}else{B.options.fit_portrait&&J>=1?I():H()}}}}}function H(K){if(K){if(thisSlide.width()<G||thisSlide.width()<B.options.min_width){if(thisSlide.width()*J>=B.options.min_height){thisSlide.width(B.options.min_width);thisSlide.height(thisSlide.width()*J)}else{I()}}}else{if(B.options.min_height>=E&&!B.options.fit_landscape){if(G*J>=B.options.min_height||(G*J>=B.options.min_height&&J<=1)){thisSlide.width(G);thisSlide.height(G*J)}else{if(J>1){thisSlide.height(B.options.min_height);thisSlide.width(thisSlide.height()/J)}else{if(thisSlide.width()<G){thisSlide.width(G);thisSlide.height(thisSlide.width()*J)}}}}else{thisSlide.width(G);thisSlide.height(G*J)}}}function I(K){if(K){if(thisSlide.height()<E){if(thisSlide.height()/J>=B.options.min_width){thisSlide.height(B.options.min_height);thisSlide.width(thisSlide.height()/J)}else{H(true)}}}else{if(B.options.min_width>=G){if(E/J>=B.options.min_width||J>1){thisSlide.height(E);thisSlide.width(E/J)}else{if(J<=1){thisSlide.width(B.options.min_width);thisSlide.height(thisSlide.width()*J)}}}else{thisSlide.height(E);thisSlide.width(E/J)}}}if(thisSlide.parents("li").hasClass("image-loading")){A(".image-loading").removeClass("image-loading")}if(B.options.horizontal_center){A(this).css("left",(G-A(this).width())/2)}if(B.options.vertical_center){A(this).css("top",(E-A(this).height())/2)}});if(B.options.image_protect){A("img",B.el).bind("contextmenu mousedown",function(){return false})}return false})};B.nextSlide=function(){if(vars.in_animation||!api.options.slideshow){return false}else{vars.in_animation=true}clearInterval(vars.slideshow_interval);var E=B.options.slides,G=B.$el.find(".activeslide");A(".prevslide").removeClass("prevslide");G.removeClass("activeslide").addClass("prevslide");vars.current_slide+1==B.options.slides.length?vars.current_slide=0:vars.current_slide++;var I=A(B.el+" li:eq("+vars.current_slide+")"),F=B.$el.find(".prevslide");if(B.options.performance==1){B.$el.removeClass("quality").addClass("speed")}loadSlide=false;vars.current_slide==B.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var K=B.el+" li:eq("+loadSlide+")";if(!A(K).html()){var J=B.options.new_window?' target="_blank"':"";imageLink=(B.options.slides[loadSlide].url)?"href='"+B.options.slides[loadSlide].url+"'":"";var H=A('<img src="'+B.options.slides[loadSlide].image+'"/>');H.appendTo(K).wrap("<a "+imageLink+J+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");H.load(function(){B._origDim(A(this));B.resizeNow()})}if(B.options.thumbnail_navigation==1){vars.current_slide-1<0?prevThumb=B.options.slides.length-1:prevThumb=vars.current_slide-1;A(vars.prev_thumb).html(A("<img/>").attr("src",B.options.slides[prevThumb].image));nextThumb=loadSlide;A(vars.next_thumb).html(A("<img/>").attr("src",B.options.slides[nextThumb].image))}if(typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"){theme.beforeAnimation("next")}if(B.options.slide_links){A(".current-slide").removeClass("current-slide");A(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")}I.css("visibility","hidden").addClass("activeslide");switch(B.options.transition){case 0:case"none":I.css("visibility","visible");vars.in_animation=false;B.afterAnimation();break;case 1:case"fade":I.animate({opacity:0},0).css("visibility","visible").animate({opacity:1,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 2:case"slideTop":I.animate({top:-B.$el.height()},0).css("visibility","visible").animate({top:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 3:case"slideRight":I.animate({left:B.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 4:case"slideBottom":I.animate({top:B.$el.height()},0).css("visibility","visible").animate({top:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 5:case"slideLeft":I.animate({left:-B.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 6:case"carouselRight":I.animate({left:B.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});G.animate({left:-B.$el.width(),avoidTransforms:false},B.options.transition_speed);break;case 7:case"carouselLeft":I.animate({left:-B.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});G.animate({left:B.$el.width(),avoidTransforms:false},B.options.transition_speed);break}return false};B.prevSlide=function(){if(vars.in_animation||!api.options.slideshow){return false}else{vars.in_animation=true}clearInterval(vars.slideshow_interval);var E=B.options.slides,G=B.$el.find(".activeslide");A(".prevslide").removeClass("prevslide");G.removeClass("activeslide").addClass("prevslide");vars.current_slide==0?vars.current_slide=B.options.slides.length-1:vars.current_slide--;var I=A(B.el+" li:eq("+vars.current_slide+")"),F=B.$el.find(".prevslide");if(B.options.performance==1){B.$el.removeClass("quality").addClass("speed")}loadSlide=vars.current_slide;var K=B.el+" li:eq("+loadSlide+")";if(!A(K).html()){var J=B.options.new_window?' target="_blank"':"";imageLink=(B.options.slides[loadSlide].url)?"href='"+B.options.slides[loadSlide].url+"'":"";var H=A('<img src="'+B.options.slides[loadSlide].image+'"/>');H.appendTo(K).wrap("<a "+imageLink+J+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");H.load(function(){B._origDim(A(this));B.resizeNow()})}if(B.options.thumbnail_navigation==1){loadSlide==0?prevThumb=B.options.slides.length-1:prevThumb=loadSlide-1;A(vars.prev_thumb).html(A("<img/>").attr("src",B.options.slides[prevThumb].image));vars.current_slide==B.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;A(vars.next_thumb).html(A("<img/>").attr("src",B.options.slides[nextThumb].image))}if(typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"){theme.beforeAnimation("prev")}if(B.options.slide_links){A(".current-slide").removeClass("current-slide");A(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")}I.css("visibility","hidden").addClass("activeslide");switch(B.options.transition){case 0:case"none":I.css("visibility","visible");vars.in_animation=false;B.afterAnimation();break;case 1:case"fade":I.animate({opacity:0},0).css("visibility","visible").animate({opacity:1,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 2:case"slideTop":I.animate({top:B.$el.height()},0).css("visibility","visible").animate({top:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 3:case"slideRight":I.animate({left:-B.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 4:case"slideBottom":I.animate({top:-B.$el.height()},0).css("visibility","visible").animate({top:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 5:case"slideLeft":I.animate({left:B.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});break;case 6:case"carouselRight":I.animate({left:-B.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});G.animate({left:0},0).animate({left:B.$el.width(),avoidTransforms:false},B.options.transition_speed);break;case 7:case"carouselLeft":I.animate({left:B.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},B.options.transition_speed,function(){B.afterAnimation()});G.animate({left:0},0).animate({left:-B.$el.width(),avoidTransforms:false},B.options.transition_speed);break}return false};B.playToggle=function(){if(vars.in_animation||!api.options.slideshow){return false}if(vars.is_paused){vars.is_paused=false;if(typeof theme!="undefined"&&typeof theme.playToggle=="function"){theme.playToggle("play")}vars.slideshow_interval=setInterval(B.nextSlide,B.options.slide_interval)}else{vars.is_paused=true;if(typeof theme!="undefined"&&typeof theme.playToggle=="function"){theme.playToggle("pause")}clearInterval(vars.slideshow_interval)}return false};B.goTo=function(F){if(vars.in_animation||!api.options.slideshow){return false}var E=B.options.slides.length;if(F<0){F=E}else{if(F>E){F=1}}F=E-F+1;clearInterval(vars.slideshow_interval);if(typeof theme!="undefined"&&typeof theme.goTo=="function"){theme.goTo()}if(vars.current_slide==E-F){if(!(vars.is_paused)){vars.slideshow_interval=setInterval(B.nextSlide,B.options.slide_interval)}return false}if(E-F>vars.current_slide){vars.current_slide=E-F-1;vars.update_images="next";B._placeSlide(vars.update_images)}else{if(E-F<vars.current_slide){vars.current_slide=E-F+1;vars.update_images="prev";B._placeSlide(vars.update_images)}}if(B.options.slide_links){A(vars.slide_list+"> .current-slide").removeClass("current-slide");A(vars.slide_list+"> li").eq((E-F)).addClass("current-slide")}if(B.options.thumb_links){A(vars.thumb_list+"> .current-thumb").removeClass("current-thumb");A(vars.thumb_list+"> li").eq((E-F)).addClass("current-thumb")}};B._placeSlide=function(F){var E=B.options.new_window?' target="_blank"':"";loadSlide=false;if(F=="next"){vars.current_slide==B.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var G=B.el+" li:eq("+loadSlide+")";if(!A(G).html()){var E=B.options.new_window?' target="_blank"':"";imageLink=(B.options.slides[loadSlide].url)?"href='"+B.options.slides[loadSlide].url+"'":"";var H=A('<img src="'+B.options.slides[loadSlide].image+'"/>');H.appendTo(G).wrap("<a "+imageLink+E+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");H.load(function(){B._origDim(A(this));B.resizeNow()})}B.nextSlide()}else{if(F=="prev"){vars.current_slide-1<0?loadSlide=B.options.slides.length-1:loadSlide=vars.current_slide-1;var G=B.el+" li:eq("+loadSlide+")";if(!A(G).html()){var E=B.options.new_window?' target="_blank"':"";imageLink=(B.options.slides[loadSlide].url)?"href='"+B.options.slides[loadSlide].url+"'":"";var H=A('<img src="'+B.options.slides[loadSlide].image+'"/>');H.appendTo(G).wrap("<a "+imageLink+E+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");H.load(function(){B._origDim(A(this));B.resizeNow()})}B.prevSlide()}}};B._origDim=function(E){E.data("origWidth",E.width()).data("origHeight",E.height())};B.afterAnimation=function(){if(B.options.performance==1){B.$el.removeClass("speed").addClass("quality")}if(vars.update_images){vars.current_slide-1<0?setPrev=B.options.slides.length-1:setPrev=vars.current_slide-1;vars.update_images=false;A(".prevslide").removeClass("prevslide");A(B.el+" li:eq("+setPrev+")").addClass("prevslide")}vars.in_animation=false;if(!vars.is_paused&&B.options.slideshow){vars.slideshow_interval=setInterval(B.nextSlide,B.options.slide_interval);if(B.options.stop_loop&&vars.current_slide==B.options.slides.length-1){B.playToggle()}}if(typeof theme!="undefined"&&typeof theme.afterAnimation=="function"){theme.afterAnimation()}return false};B.getField=function(E){return B.options.slides[vars.current_slide][E]};B.init()};A.supersized.vars={thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",slide_list:"#slide-list",current_slide:0,in_animation:false,is_paused:false,hover_pause:false,slideshow_interval:false,update_images:false,options:{}};A.supersized.defaultOptions={slideshow:1,autoplay:1,start_slide:1,stop_loop:0,random:0,slide_interval:5000,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,fit_always:0,fit_landscape:0,fit_portrait:1,min_width:0,min_height:0,horizontal_center:1,vertical_center:1,slide_links:1,thumb_links:1,thumbnail_navigation:0};A.fn.supersized=function(B){return this.each(function(){(new A.supersized(B))})}})(jQuery);